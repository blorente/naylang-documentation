
Implementation
==============

The implementation of Naylang follows that of a visitor-based interpreter.
First, the source code is tokenized and parsed with a parser generated by ANTLRv4. Then, a custom parser extension traverses
the parse tree and generates and Abstract Syntax Tree from the nodes, annotating
each one with useful information such as line numbers.
Lastly, an evaluator visitor traverses the AST and interprets each node.

In addition to the REPL commands, Naylang includes a debug mode,
which allows to debug a file with the usual commands detailed in [Debugging](#debugging) and [Frontends](#frontend). The mechanisms necessary for controlling the execution
flow are embedded in the evaluator, as is explained later.

Figure 4.1 shows the general workflow of Naylang, and how the components fit with each other.

![Main Components of Naylang](images/components.pdf)

